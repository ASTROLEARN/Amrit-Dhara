// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model GroundwaterSample {
  id          String   @id @default(cuid())
  sampleId    String
  location    String
  latitude    Float
  longitude   Float
  arsenic     Float    @default(0)    // As in mg/L
  cadmium     Float    @default(0)    // Cd in mg/L
  chromium    Float    @default(0)    // Cr in mg/L
  lead        Float    @default(0)    // Pb in mg/L
  mercury     Float    @default(0)    // Hg in mg/L
  nickel      Float    @default(0)    // Ni in mg/L
  copper      Float    @default(0)    // Cu in mg/L
  zinc        Float    @default(0)    // Zn in mg/L
  
  // Calculated indices
  hpi         Float?
  hei         Float?
  cd          Float?
  npi         Float?
  
  // Quality categorizations
  hpiCategory String?
  heiCategory String?
  cdCategory  String?
  npiCategory String?
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  @@map("groundwater_samples")
}

model AnalysisResult {
  id           String   @id @default(cuid())
  sampleId     String
  hpi          Float
  hei          Float
  cd           Float
  npi          Float
  hpiCategory  String
  heiCategory  String
  cdCategory   String
  npiCategory  String
  overallQuality String
  createdAt    DateTime @default(now())
  
  @@map("analysis_results")
}